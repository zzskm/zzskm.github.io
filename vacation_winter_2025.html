<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ê²¨ìš¸ë°©í•™ ê°€ì¡±ì—¬í–‰ ê°€ì´ë“œ</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{--p:#2563eb;--s:#10b981;--m:#64748b;--bg:#f8fafc;--c:#fff;--t:#0f172a;--b:#e2e8f0;--sh:0 10px 30px rgba(0,0,0,.1)}
    [data-theme=dark]{--bg:#0b1220;--c:#0f172a;--t:#e5e7eb;--b:#1f2a44;--sh:0 10px 30px rgba(0,0,0,.5)}
    *{margin:0;box-sizing:border-box}
    body{font-family:'Noto Sans KR',sans-serif;background:var(--bg);color:var(--t);line-height:1.7;padding:1rem}
    .wrap{max-width:1100px;margin:auto;background:var(--c);border-radius:16px;overflow:hidden;box-shadow:var(--sh)}
    header{background:linear-gradient(135deg,var(--p),#3b82f6);color:#fff;padding:2.5rem 1.5rem 2rem;text-align:center;position:relative}
    h1{font-size:2rem;font-weight:700;margin:0 0 .5rem}
    .toggle{position:absolute;top:1rem;right:1rem;width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.2);border:none;color:#fff;font-size:1.3rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:.2s}
    .toggle:hover{transform:scale(1.08)}
    .sec{padding:1.5rem}
    h2{font-size:1.4rem;color:var(--p);margin:1.2rem 0 .8rem;display:flex;gap:.5rem;align-items:center;font-weight:600}
    ul{list-style:none;display:grid;gap:.5rem;font-size:.95rem;color:var(--m)}
    table{width:100%;border-collapse:collapse;border:1px solid var(--b);border-radius:12px;overflow:hidden;margin:1rem 0;font-size:.95rem}
    th{background:var(--p);color:#fff;padding:.9rem .7rem;text-align:center;font-weight:600}
    td{padding:.8rem .7rem;text-align:center;border-bottom:1px solid var(--b)}
    tr:hover{background:rgba(37,99,235,.05)}
    .hl{color:var(--s);font-weight:700;font-size:1.1em}
    .chart{margin:1rem 0;background:var(--c);border:1px solid var(--b);border-radius:12px;padding:1.2rem;overflow:hidden}
    #c{overflow:visible}
    .grid{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));margin-top:.5rem}
    .card{background:var(--c);border:1px solid var(--b);border-radius:12px;padding:1.1rem;transition:.2s}
    .card:hover{transform:translateY(-3px);box-shadow:var(--sh)}
    .card h3{font-size:1.15rem;margin:0 0 .6rem;display:flex;gap:.4rem;align-items:center}
    .tag{background:var(--p);color:#fff;padding:.2rem .6rem;border-radius:99px;font-size:.7rem;font-weight:600}
    .flag { font-size: 1.3em; margin-right: 4px; }
    .con{background:linear-gradient(135deg,#ecfdf5,#f0fdf4);border:1px solid #86efac;border-radius:12px;padding:1.5rem;margin:1.5rem 0}
    [data-theme=dark] .con{background:#052e22;border-color:#14532d;color:#bbf7d0}
    footer{text-align:center;padding:1.2rem;color:var(--m);font-size:.8rem;border-top:1px solid var(--b)}
    .tooltip{position:fixed;background:rgba(15,23,42,.95);color:#fff;padding:8px 12px;border-radius:8px;font-size:.85rem;pointer-events:none;opacity:0;box-shadow:0 4px 12px rgba(0,0,0,.3);z-index:1000;white-space:nowrap}
    @media print{.toggle,footer{display:none}.wrap{box-shadow:none}}

    /* â”€â”€ í™•ì¥ ìƒì„¸(ì•„ì½”ë””ì–¸) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .card-btn{all:unset;display:block;cursor:pointer}
    .meta{font-size:.92rem;color:var(--m);margin:.35rem 0 .6rem}
    .arrow{margin-left:auto;transition:transform .2s ease}
    .details{max-height:0;overflow:hidden;transition:max-height .35s ease;border-top:1px dashed var(--b);margin-top:.6rem;padding-top:.6rem}
    .details-inner{display:grid;grid-template-columns:1fr;gap:.35rem;font-size:.93rem}
    .details b{color:#0b7}
    .card[aria-expanded="true"]{border-color:var(--p);box-shadow:var(--sh)}
    .card[aria-expanded="true"] .arrow{transform:rotate(180deg)}
    .pill{display:inline-block;background:rgba(16,185,129,.12);color:#0ea5e9;border:1px solid rgba(16,185,129,.25);border-radius:999px;padding:.15rem .5rem;font-size:.72rem;margin-right:.3rem}
  </style>
</head>
<body>
<div class="wrap">
  <header>
    <button class="toggle" id="t" aria-label="í…Œë§ˆ ì „í™˜">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18z"/></svg>
    </button>
    <h1>ê²¨ìš¸ë°©í•™ ê°€ì¡±ì—¬í–‰ ê°€ì´ë“œ</h1>
    <p>ì•„ì‹œì•„Â·ë‚¨íƒœí‰ì–‘ 10ëŒ€ íœ´ì–‘ì§€ | 3ë°• 5ì¼ | 4ì¸ ê°€ì¡± ê¸°ì¤€</p>
  </header>

  <div class="sec">
    <h2>ë¹„ìš© ì‚°ì • ê¸°ì¤€</h2>
    <ul>
      <li><strong>ê¸°ì¤€ ì¸ì›:</strong> 4ì¸ ê°€ì¡±</li>
      <li><strong>ì—¬í–‰ ì¼ì •:</strong> 3ë°• 5ì¼</li>
      <li><strong>ì‚°ì • ë°©ì‹:</strong> ìˆ™ë°•ë¹„(3ë°•, 2ê°ì‹¤) + ì²´ë¥˜ë¹„(4ì¸Ã—4ì¼) + ì™•ë³µ í•­ê³µê¶Œ(4ì¸)</li>
      <li><strong>í™˜ìœ¨:</strong> 1 USD = â‚©1,400</li>
      <li><strong>ë‹¨ìœ„:</strong> ì›í™”(ë§Œì›), ë°˜ì˜¬ë¦¼</li>
      <li><strong>êµí†µë¹„:</strong> ëŒ€í‘œ ì´ë™ìˆ˜ë‹¨ ê¸°ì¤€ ë³„ë„ í‘œê¸°</li>
    </ul>
  </div>

  <div class="sec chart">
    <h2>ì¢…í•© ìŠ¤ì½”ì–´ ë¹„êµ</h2>
    <div id="c" style="min-height:460px"></div>
  </div>

  <div class="sec">
    <h2>ì„¸ë¶€ ì ìˆ˜ ë‚´ì—­</h2>
    <table>
      <tr><th>ì§€ì—­</th><th>ê°€ì„±ë¹„(40)</th><th>ì ‘ê·¼ì„±(30)</th><th>ì²´ë¥˜í™˜ê²½(30)</th><th>ì´ì (100)</th></tr>
      <tr><td>ë‹¤ë‚­</td><td>40</td><td>30</td><td>30</td><td class="hl">100</td></tr>
      <tr><td>ì½”íƒ€í‚¤ë‚˜ë°œë£¨</td><td>39</td><td>28</td><td>29</td><td class="hl">96</td></tr>
      <tr><td>ì„¸ë¶€</td><td>37</td><td>27</td><td>27</td><td class="hl">91</td></tr>
      <tr><td>ë³´í™€</td><td>35</td><td>24</td><td>26</td><td>85</td></tr>
      <tr><td>ë‘ì¹´ìœ„</td><td>36</td><td>21</td><td>24</td><td>81</td></tr>
      <tr><td>ë°œë¦¬</td><td>34</td><td>20</td><td>23</td><td>77</td></tr>
      <tr><td>ë³´ë¼ì¹´ì´</td><td>32</td><td>19</td><td>21</td><td>72</td></tr>
      <tr><td>ë¡¬ë³µ</td><td>31</td><td>18</td><td>20</td><td>69</td></tr>
      <tr><td>ê´Œ</td><td>27</td><td>22</td><td>14</td><td>63</td></tr>
      <tr><td>ì˜¤í‚¤ë‚˜ì™€</td><td>28</td><td>18</td><td>13</td><td>59</td></tr>
    </table>
  </div>

  <div class="sec">
    <h2>ì§€ì—­ë³„ ìš”ì•½</h2>
    <div class="grid" id="grid">
      <!-- Cards with expandable details -->
      <div class="card" data-key="ë‹¤ë‚­" tabindex="0" role="button" aria-expanded="false" aria-controls="detail-ë‹¤ë‚­">
        <div class="card-btn">
          <h3><span class="flag">ğŸ‡»ğŸ‡³</span> ë‹¤ë‚­ <span class="tag">1ìœ„</span>
            <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 15l-7-7h14z"/></svg>
          </h3>
          <p class="meta"><span class="pill">ì´ì•¡ 210ë§Œì› ($1,516)</span> <span class="pill">êµí†µ Grab</span></p>
          <p><strong>ì¥ì :</strong> ë¬¼ê°€ ì €ë ´, ë„ì‹œ+ë¦¬ì¡°íŠ¸, ì§í•­ ë‹¤ìˆ˜ Â· <strong>ë‹¨ì :</strong> 11~12ì›” í­ìš°, ì„±ìˆ˜ê¸° í˜¼ì¡</p>
        </div>
        <div class="details" id="detail-ë‹¤ë‚­" hidden>
          <div class="details-inner"></div>
        </div>
      </div>

      <div class="card" data-key="ì½”íƒ€í‚¤ë‚˜ë°œë£¨" tabindex="0" role="button" aria-expanded="false" aria-controls="detail-ì½”íƒ€í‚¤ë‚˜ë°œë£¨">
        <div class="card-btn">
          <h3><span class="flag">ğŸ‡²ğŸ‡¾</span> ì½”íƒ€í‚¤ë‚˜ë°œë£¨ <span class="tag">2ìœ„</span>
            <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 15l-7-7h14z"/></svg>
          </h3>
          <p class="meta"><span class="pill">ì´ì•¡ 215ë§Œì› ($1,536)</span> <span class="pill">êµí†µ Grab/ê¸°ì‚¬</span></p>
          <p><strong>ì¥ì :</strong> ê°€ì„±ë¹„ ì•ˆì •, ê°€ì¡± ë¦¬ì¡°íŠ¸ ì§‘ì¤‘ Â· <strong>ë‹¨ì :</strong> ì™¸ê³½ ì¡°ëª… ë¶€ì¡±, ì´ˆë³´ ìš´ì „ ë¹„ì¶”ì²œ</p>
        </div>
        <div class="details" id="detail-ì½”íƒ€í‚¤ë‚˜ë°œë£¨" hidden>
          <div class="details-inner"></div>
        </div>
      </div>

      <div class="card" data-key="ì„¸ë¶€" tabindex="0" role="button" aria-expanded="false" aria-controls="detail-ì„¸ë¶€">
        <div class="card-btn">
          <h3><span class="flag">ğŸ‡µğŸ‡­</span> ì„¸ë¶€ <span class="tag">3ìœ„</span>
            <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 15l-7-7h14z"/></svg>
          </h3>
          <p class="meta"><span class="pill">ì´ì•¡ 238ë§Œì› ($1,700)</span> <span class="pill">êµí†µ ê¸°ì‚¬ í¬í•¨</span></p>
          <p><strong>ì¥ì :</strong> ì•¡í‹°ë¹„í‹° ë‹¤ì–‘, ì˜ë£Œ ìš°ìˆ˜ Â· <strong>ë‹¨ì :</strong> êµí†µì²´ì¦, ì„±ìˆ˜ê¸° ì¸íŒŒ</p>
        </div>
        <div class="details" id="detail-ì„¸ë¶€" hidden>
          <div class="details-inner"></div>
        </div>
      </div>

      <div class="card" data-key="ë³´í™€" tabindex="0" role="button" aria-expanded="false" aria-controls="detail-ë³´í™€">
        <div class="card-btn">
          <h3><span class="flag">ğŸ‡µğŸ‡­</span> ë³´í™€
            <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 15l-7-7h14z"/></svg>
          </h3>
          <p class="meta"><span class="pill">ì´ì•¡ 263ë§Œì› ($1,880)</span> <span class="pill">êµí†µ ê¸°ì‚¬ í¬í•¨</span></p>
          <p><strong>ì¥ì :</strong> í•´ì–‘ ì•¡í‹°ë¹„í‹° í’ë¶€, ë¦¬ì¡°íŠ¸ ì¾Œì  Â· <strong>ë‹¨ì :</strong> ì˜ë£Œ ì•½í•¨, ì´ë™ ë™ì„  ê¹€</p>
        </div>
        <div class="details" id="detail-ë³´í™€" hidden>
          <div class="details-inner"></div>
        </div>
      </div>

      <div class="card" data-key="ë‘ì¹´ìœ„" tabindex="0" role="button" aria-expanded="false" aria-controls="detail-ë‘ì¹´ìœ„">
        <div class="card-btn">
          <h3><span class="flag">ğŸ‡²ğŸ‡¾</span> ë‘ì¹´ìœ„
            <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 15l-7-7h14z"/></svg>
          </h3>
          <p class="meta"><span class="pill">ì´ì•¡ 269ë§Œì› ($1,920)</span> <span class="pill">êµí†µ ë Œí„°ì¹´</span></p>
          <p><strong>ì¥ì :</strong> ë“œë¼ì´ë¸Œ ìµœì , í•œì  Â· <strong>ë‹¨ì :</strong> ê²½ìœ  ë§ìŒ, ì‹¤ë‚´ ì½”ìŠ¤ ì œí•œ</p>
        </div>
        <div class="details" id="detail-ë‘ì¹´ìœ„" hidden>
          <div class="details-inner"></div>
        </div>
      </div>

      <div class="card" data-key="ë°œë¦¬" tabindex="0" role="button" aria-expanded="false" aria-controls="detail-ë°œë¦¬">
        <div class="card-btn">
          <h3><span class="flag">ğŸ‡®ğŸ‡©</span> ë°œë¦¬
            <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 15l-7-7h14z"/></svg>
          </h3>
          <p class="meta"><span class="pill">ì´ì•¡ 282ë§Œì› ($2,010)</span> <span class="pill">êµí†µ ê¸°ì‚¬ í¬í•¨</span></p>
          <p><strong>ì¥ì :</strong> ê°€ì¡± ë¦¬ì¡°íŠ¸ ë‹¤ì–‘, ë¬¸í™”Â·ìì—° í’ë¶€ Â· <strong>ë‹¨ì :</strong> êµí†µì²´ì¦, ì¢Œì¸¡í†µí–‰/ìš°ê¸°</p>
        </div>
        <div class="details" id="detail-ë°œë¦¬" hidden>
          <div class="details-inner"></div>
        </div>
      </div>

      <div class="card" data-key="ë³´ë¼ì¹´ì´" tabindex="0" role="button" aria-expanded="false" aria-controls="detail-ë³´ë¼ì¹´ì´">
        <div class="card-btn">
          <h3><span class="flag">ğŸ‡µğŸ‡­</span> ë³´ë¼ì¹´ì´
            <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 15l-7-7h14z"/></svg>
          </h3>
          <p class="meta"><span class="pill">ì´ì•¡ 287ë§Œì› ($2,050)</span> <span class="pill">êµí†µ e-íŠ¸ë¼ì´í¬/ë³´íŠ¸</span></p>
          <p><strong>ì¥ì :</strong> í™”ì´íŠ¸ë¹„ì¹˜, ì´ë™ ë‹¨ìˆœ Â· <strong>ë‹¨ì :</strong> í™˜ìŠ¹ ë²ˆê±°ë¡œì›€, ì„±ìˆ˜ê¸° í˜¼ì¡</p>
        </div>
        <div class="details" id="detail-ë³´ë¼ì¹´ì´" hidden>
          <div class="details-inner"></div>
        </div>
      </div>

      <div class="card" data-key="ë¡¬ë³µ" tabindex="0" role="button" aria-expanded="false" aria-controls="detail-ë¡¬ë³µ">
        <div class="card-btn">
          <h3><span class="flag">ğŸ‡®ğŸ‡©</span> ë¡¬ë³µ
            <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 15l-7-7h14z"/></svg>
          </h3>
          <p class="meta"><span class="pill">ì´ì•¡ 293ë§Œì› ($2,090)</span> <span class="pill">êµí†µ ê¸°ì‚¬/ë Œí„°ì¹´</span></p>
          <p><strong>ì¥ì :</strong> í•œì , ì´ˆë³´ ì„œí•‘, ë¬¼ê°€ ì €ë ´ Â· <strong>ë‹¨ì :</strong> ëŒ€ì¤‘êµí†µ ë¶€ì¡±, ì•± ì œí•œ</p>
        </div>
        <div class="details" id="detail-ë¡¬ë³µ" hidden>
          <div class="details-inner"></div>
        </div>
      </div>

      <div class="card" data-key="ê´Œ" tabindex="0" role="button" aria-expanded="false" aria-controls="detail-ê´Œ">
        <div class="card-btn">
          <h3><span class="flag">ğŸ‡¬ğŸ‡º</span> ê´Œ
            <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 15l-7-7h14z"/></svg>
          </h3>
          <p class="meta"><span class="pill">ì´ì•¡ 312ë§Œì› ($2,230)</span> <span class="pill">êµí†µ ë Œí„°ì¹´</span></p>
          <p><strong>ì¥ì :</strong> ì§í•­ 4h, ì¸í”„ë¼ ìš°ìˆ˜ Â· <strong>ë‹¨ì :</strong> ìˆ™ë°•Â·ì‹ë¹„ ë†’ìŒ, ì£¼ì°¨ë¹„ ë¶€ë‹´</p>
        </div>
        <div class="details" id="detail-ê´Œ" hidden>
          <div class="details-inner"></div>
        </div>
      </div>

      <div class="card" data-key="ì˜¤í‚¤ë‚˜ì™€" tabindex="0" role="button" aria-expanded="false" aria-controls="detail-ì˜¤í‚¤ë‚˜ì™€">
        <div class="card-btn">
          <h3><span class="flag">ğŸ‡¯ğŸ‡µ</span> ì˜¤í‚¤ë‚˜ì™€
            <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 15l-7-7h14z"/></svg>
          </h3>
          <p class="meta"><span class="pill">ì´ì•¡ 328ë§Œì› ($2,340)</span> <span class="pill">êµí†µ ë Œí„°ì¹´</span></p>
          <p><strong>ì¥ì :</strong> ì˜¨í™”/ì²­ê²°/ë“œë¼ì´ë¸Œ Â· <strong>ë‹¨ì :</strong> ìˆ™ë°• ë‹¨ê°€ ë†’ìŒ, ìˆ˜ì˜ ì‹œì¦Œ ì§§ìŒ</p>
        </div>
        <div class="details" id="detail-ì˜¤í‚¤ë‚˜ì™€" hidden>
          <div class="details-inner"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="sec con">
    <h2>ê²°ë¡ </h2>
    <p><strong>ê°€ì„±ë¹„ TOP 3:</strong> ë‹¤ë‚­ Â· ì½”íƒ€í‚¤ë‚˜ë°œë£¨ Â· ì„¸ë¶€</p>
    <p><strong>ë“œë¼ì´ë¸Œ ì¤‘ì‹¬ ì—¬í–‰:</strong> ë‘ì¹´ìœ„ Â· ì˜¤í‚¤ë‚˜ì™€</p>
    <p><strong>í…Œë§ˆí˜• ì¶”ì²œ:</strong> ë¡¬ë³µ(ì„œí•‘), ë³´ë¼ì¹´ì´(ë¹„ì¹˜), ê´Œ(ê°€ì¡±íœ´ì–‘)</p>
    <p style="margin-top:1rem;font-weight:500;color:#166534">
      â†’ <em>ì´ì˜ˆì‚° ëŒ€ë¹„ ë§Œì¡±ë„ ê¸°ì¤€ìœ¼ë¡œ, ë™ë‚¨ì•„ ì§€ì—­ì´ ì „ë°˜ì ìœ¼ë¡œ íš¨ìœ¨ ìš°ì„¸.</em>
    </p>
  </div>

  <footer>2025 ê²¨ìš¸ë°©í•™ ê°€ì¡±ì—¬í–‰ ë¹„êµ ê°€ì´ë“œ | 3ë°• 5ì¼ 4ì¸ ê°€ì¡± ê¸°ì¤€</footer>
</div>

<script>
  // â”€â”€ í…Œë§ˆ í† ê¸€
  const btn=document.getElementById('t'),root=document.documentElement;
  const sun='<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0-5v2m0 14v2m8-8h-2M6 12H4m12.364-5.636l-1.414 1.414M7.05 7.05l-1.414 1.414m12.728 12.728l-1.414-1.414M7.05 16.95l-1.414-1.414"/></svg>';
  const moon='<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>';
  const update=()=>{btn.innerHTML=root.dataset.theme==='dark'?sun:moon;localStorage.setItem('t',root.dataset.theme)};
  btn.onclick=()=>{root.dataset.theme=root.dataset.theme==='dark'?'light':'dark';update()};
  const saved=localStorage.getItem('t'); if(saved) root.dataset.theme=saved; update();

  // â”€â”€ D3 ì°¨íŠ¸ (ë™ì  ë§ˆì§„ & ë¼ë²¨ ì•ˆ/ë°– ë°°ì¹˜)
  const data=[{p:"ë‹¤ë‚­",s:100},{p:"ì½”íƒ€í‚¤ë‚˜ë°œë£¨",s:96},{p:"ì„¸ë¶€",s:91},{p:"ë³´í™€",s:85},{p:"ë‘ì¹´ìœ„",s:81},{p:"ë°œë¦¬",s:77},{p:"ë³´ë¼ì¹´ì´",s:72},{p:"ë¡¬ë³µ",s:69},{p:"ê´Œ",s:63},{p:"ì˜¤í‚¤ë‚˜ì™€",s:59}];
  let drawn=false;
  const obs=new IntersectionObserver(e=>{if(e[0].isIntersecting&&!drawn){drawn=true;draw();obs.unobserve(document.getElementById('c'))}}, {threshold:.3});
  obs.observe(document.getElementById('c'));

  function draw(){
    const c=document.getElementById('c'); c.innerHTML='';
    const w=c.clientWidth||800; const baseH=Math.max(460,data.length*48);
    const svg=d3.select(c).append('svg').attr('width','100%').attr('height',baseH)
      .attr('viewBox',`0 0 ${w} ${baseH}`).style('overflow','visible');

    // 1) ì„ì‹œ ì¶•ìœ¼ë¡œ ë¼ë²¨ ì‹¤ì¸¡
    let m={t:20,r:20,b:30,l:20};
    let iw=w-m.l-m.r, ih=baseH-m.t-m.b;
    const g0=svg.append('g').attr('transform',`translate(${m.l},${m.t})`);
    const x0=d3.scaleLinear().domain([0,100]).range([0,iw]);
    const y0=d3.scaleBand().domain(data.map(d=>d.p)).range([0,ih]).padding(.2);
    const yAxis0=g0.append('g').attr('class','y0').call(d3.axisLeft(y0));
    yAxis0.selectAll('text').style('font-size','14px').style('font-weight',600);
    const xAxis0=g0.append('g').attr('class','x0').attr('transform',`translate(0,${ih})`).call(d3.axisBottom(x0).ticks(5));
    const maxYLabelW=Math.ceil(Math.max(...yAxis0.selectAll('text').nodes().map(n=>n.getBBox().width),0));
    const xAxisH=Math.ceil(xAxis0.node().getBBox().height);
    const rightPad=40;
    m={t:16,r:rightPad,b:Math.max(30,xAxisH+10),l:Math.max(60,maxYLabelW+16)};
    iw=w-m.l-m.r; ih=baseH-m.t-m.b;
    g0.remove();

    // 2) ì‹¤ì œ ì°¨íŠ¸
    const g=svg.append('g').attr('transform',`translate(${m.l},${m.t})`);
    const x=d3.scaleLinear().domain([0,100]).range([0,iw]);
    const y=d3.scaleBand().domain(data.map(d=>d.p)).range([0,ih]).padding(.2);

    g.append('g').attr('transform',`translate(0,${ih})`).call(d3.axisBottom(x).tickSize(-ih).tickFormat(''))
      .selectAll('line').attr('stroke','#e5e7eb');

    const bars=g.selectAll('.bar').data(data).enter().append('rect').attr('class','bar')
      .attr('y',d=>y(d.p)).attr('x',0).attr('height',y.bandwidth()).attr('width',0)
      .attr('fill',d=>d.s>=90?'#10b981':d.s>=80?'#3b82f6':'#6b7280').attr('rx',8);
    bars.transition().duration(800).delay((_,i)=>i*80).attr('width',d=>x(d.s));

    g.append('g').call(d3.axisLeft(y)).selectAll('text').style('font-size','14px').style('font-weight',600);
    g.append('g').attr('transform',`translate(0,${ih})`).call(d3.axisBottom(x).ticks(5)).selectAll('text').style('font-size','12px');

    const labels=g.selectAll('.val').data(data).enter().append('text').attr('class','val')
      .attr('y',d=>y(d.p)+y.bandwidth()/2).attr('dy','.35em').style('font-weight',700).style('font-size','12px').style('opacity',0);

    setTimeout(()=>{
      labels.text(d=>d.s).each(function(d){
        const barW=x(d.s); const inside=barW>28;
        d3.select(this).attr('x', inside? barW-8: barW+8)
          .attr('text-anchor', inside? 'end':'start')
          .style('fill', inside? '#fff': (d.s>=90?'#10b981':d.s>=80?'#3b82f6':'#6b7280'));
      }).transition().duration(300).style('opacity',1);
    }, 900);

    const tip=d3.select('body').append('div').attr('class','tooltip');
    bars.on('mousemove',(e,o)=>{tip.style('opacity',1).style('left',(e.pageX+15)+'px').style('top',(e.pageY-30)+'px')
      .html(`<strong>${o.p}</strong><br>ìŠ¤ì½”ì–´: <b style="color:#10b981">${o.s}</b>`) })
      .on('mouseout',()=>tip.style('opacity',0));
  }
  let rt; window.onresize=()=>{clearTimeout(rt);rt=setTimeout(()=>{draw();},150)};

  // â”€â”€ ìƒì„¸ ì»¨í…ì¸ (ì¹´ë“œ í´ë¦­ ì‹œ ë Œë”)
  const DETAILS = {
    "ë‹¤ë‚­": {
      "ë¹„ìš© ë¶„í•´": "ìˆ™ë°•(ì¤‘ê¸‰ 4ì„± Ã— 2ê°ì‹¤ Ã— 3ë°•) + ì²´ë¥˜(4ì¸Ã—4ì¼) + í•­ê³µ(4ì¸)ë¡œ ì‚°ì •. í•©ë¦¬ì  ìˆ™ë°•ë‹¨ê°€ì™€ ì €ë ´í•œ í˜„ì§€ ë¬¼ê°€ê°€ ê°•ì .",
      "ì¶”ì²œ ë™ì„ ": "ë¯¸ì¼€ë¹„ì¹˜â€“ì•ˆë°©ë¹„ì¹˜ / ë°”ë‚˜í ë°˜ì¼ / í˜¸ì´ì•ˆ ì˜¬ë“œíƒ€ìš´ ì•¼ê°„. ì–´ë¦°ì´ ë™ë°˜ ì‹œ ë°”ë‚˜íâ€“ì¼€ì´ë¸”ì¹´ ìš°ì„ .",
      "ë‚ ì”¨Â·ì‹œì¦Œ": "11~12ì›” í­ìš° ê°€ëŠ¥. 1â€“3ì›” ê±´ì¡°Â·ì˜¨í™”.",
      "êµí†µ íŒ": "Grab í˜¸ì¶œ ìš©ì´, ê³µí•­â€“ì‹œë‚´ 20â€“35ë¶„. ê°€ì¡± 4ì¸ ì´ë™ì€ 6ì¸ìŠ¹ í˜¸ì¶œ ì¶”ì²œ.",
      "ìœ„í—˜Â·ì£¼ì˜": "í­ìš° ì‹œ ë„ë¡œ ì¹¨ìˆ˜ ê°€ëŠ¥. ì•¼ê°„ ê°•ìš° ì‹œ ë„ë³´ ì´ë™ ì§€ì–‘."
    },
    "ì½”íƒ€í‚¤ë‚˜ë°œë£¨": {
      "ë¹„ìš© ë¶„í•´": "ë¦¬ì¡°íŠ¸ ë°€ì§‘Â·ê°€ì„±ë¹„ ìš°ìˆ˜. ì•¡í‹°ë¹„í‹° ëŒ€ë¹„ ì²´ë¥˜ë¹„ ë‚®ìŒ.",
      "ì¶”ì²œ ë™ì„ ": "íƒ„ì¤‘ì•„ë£¨ ì„ ì…‹ / ë°˜ë”§ë¶ˆ íˆ¬ì–´ / ë§Œë”°ë‚˜ë‹ˆÂ·ì‚¬í”¼ ì„¬ ë°ì´íˆ¬ì–´.",
      "ë‚ ì”¨Â·ì‹œì¦Œ": "12â€“3ì›” ê±´ê¸° ìš°ìˆ˜(ë¹„êµì ).",
      "êµí†µ íŒ": "Grab ì €ë ´, ì™¸ê³½ì€ ê¸°ì‚¬í¬í•¨ 8â€“10h ê³„ì•½ì´ íš¨ìœ¨ì .",
      "ìœ„í—˜Â·ì£¼ì˜": "ì™¸ê³½ ë„ë¡œ ì¡°ëª… ë¶€ì¡±. ì•¼ê°„ ìš´ì „ ì§€ì–‘."
    },
    "ì„¸ë¶€": {
      "ë¹„ìš© ë¶„í•´": "í•­ê³µÂ·ìˆ™ë°• ì¤‘ê°„, ì²´ë¥˜ë¹„ ë³´í†µ. ì•¡í‹°ë¹„í‹° ë‹¤ì–‘í•´ ì„ íƒì§€ ë„“ìŒ.",
      "ì¶”ì²œ ë™ì„ ": "ë§‰íƒ„ ë¦¬ì¡°íŠ¸ / ì˜¤ìŠ¬ë¡­(ê³ ë˜ìƒì–´) + ì¹´ì™€ì‚° ìºë‹ˆì–´ë‹(ì—°ë ¹ í™•ì¸).",
      "ë‚ ì”¨Â·ì‹œì¦Œ": "12â€“5ì›” ê±´ê¸° ìš°ìˆ˜.",
      "êµí†µ íŒ": "ê¸°ì‚¬ ì¼ì¼ ê³„ì•½ â‚±3,000Â±. ì„¬ì´ë™ ì‹œ ë°´+ë³´íŠ¸ ì—°ê³„.",
      "ìœ„í—˜Â·ì£¼ì˜": "êµí†µì²´ì¦ ì‹¬í•¨. ì´ë™ ì‹œê°„ ì—¬ìœ  í™•ë³´."
    },
    "ë³´í™€": {
      "ë¹„ìš© ë¶„í•´": "ìˆ™ë°•ë‹¨ê°€ ì¤€ìˆ˜, í•­ê³µ ê²½ìœ ì‹œ ì¦ì•¡ ê°€ëŠ¥.",
      "ì¶”ì²œ ë™ì„ ": "ì•Œë¡œë‚˜ ë¹„ì¹˜ / ì´ˆì½œë¦¿ í / ë¡œë³µê°• í¬ë£¨ì¦ˆ.",
      "ë‚ ì”¨Â·ì‹œì¦Œ": "12â€“4ì›” ê±´ê¸° ì„ í˜¸.",
      "êµí†µ íŒ": "ê¸°ì‚¬í¬í•¨ 8â€“10h ê¸°ì¤€. íŠ¸ë¼ì´ì‹œí´ì€ ë‹¨ê±°ë¦¬ë§Œ.",
      "ìœ„í—˜Â·ì£¼ì˜": "ì˜ë£Œ ì¸í”„ë¼ ì•½í•¨â†’ ì–´ë¦°ì´ ì»¨ë””ì…˜ ê´€ë¦¬ í•„ìˆ˜."
    },
    "ë‘ì¹´ìœ„": {
      "ë¹„ìš© ë¶„í•´": "ë Œí„°ì¹´ ì¤‘ì‹¬ì´ë¼ ì²´ë¥˜ë¹„ ì ˆê°. ìˆ™ë°•Â·ì‹ë¹„ ê°€ì„±ë¹„ ìš°ìˆ˜.",
      "ì¶”ì²œ ë™ì„ ": "ìŠ¤ì¹´ì´ë¸Œë¦¬ì§€ / í…”ë¼ê°€í„°ì¥¬ë‚˜ í­í¬ / íŒíƒ€ì´ì²´ë‚­ ë“œë¼ì´ë¸Œ.",
      "ë‚ ì”¨Â·ì‹œì¦Œ": "12â€“2ì›” ë¹„êµì  ê±´ì¡°, ì†Œë‚˜ê¸° ìœ„ì£¼.",
      "êµí†µ íŒ": "ë Œí„°ì¹´ RM120â€“180/ì¼. ì£¼ìœ ë¹„ ë‚®ìŒ.",
      "ìœ„í—˜Â·ì£¼ì˜": "ìš°ì²œ ì‹œ ì‹¤ë‚´ ëŒ€ì²´ì½”ìŠ¤ ì œí•œ, ì¼ì • ìœ ì—°ì„± í•„ìš”."
    },
    "ë°œë¦¬": {
      "ë¹„ìš© ë¶„í•´": "ìˆ™ë°• ê°€ì§“ìˆ˜ ë„“ê³  ê°€ê²©ëŒ€ ë‹¤ì–‘. ê¸°ì‚¬í¬í•¨ ì´ë™ì´ ì‹œê°„ ëŒ€ë¹„ íš¨ìœ¨.",
      "ì¶”ì²œ ë™ì„ ": "ëˆ„ì‚¬ë‘ì•„ ë¦¬ì¡°íŠ¸ / ìš¸ì™€ëšœ ì‚¬ì› ì„ ì…‹ / ìš°ë¶“ ë°ì´íˆ¬ì–´.",
      "ë‚ ì”¨Â·ì‹œì¦Œ": "11â€“3ì›” ìš°ê¸°. 4â€“10ì›” ê±´ê¸°(ì¶”ì²œ).",
      "êµí†µ íŒ": "ê¸°ì‚¬ 8â€“10h ê³„ì•½ Rp700kâ€“1.0M. ë‹¨ê±°ë¦¬ëŠ” ì•± í˜¸ì¶œ.",
      "ìœ„í—˜Â·ì£¼ì˜": "êµí†µì²´ì¦ ì‹¬í•¨, ì¢Œì¸¡í†µí–‰. ì´ë™ ë¸”ë¡í™”(1~2ì½”ìŠ¤/ì¼)."
    },
    "ë³´ë¼ì¹´ì´": {
      "ë¹„ìš© ë¶„í•´": "ì„¬ë‚´ ì²´ë¥˜ë¹„ ë³´í†µ, í•­ê³µ+í™˜ìŠ¹ ë²ˆê±°ë¡œì›€(ì‹œê°„ ë¹„ìš© ì¡´ì¬).",
      "ì¶”ì²œ ë™ì„ ": "í™”ì´íŠ¸ë¹„ì¹˜(ìŠ¤í…Œì´ì…˜ 1â€“3) / í˜¸í•‘íˆ¬ì–´ / í•´ì§ˆë…˜ ì„¸ì¼ë§.",
      "ë‚ ì”¨Â·ì‹œì¦Œ": "12â€“5ì›” ê±´ê¸° ì„ í˜¸.",
      "êµí†µ íŒ": "e-íŠ¸ë¼ì´í¬ ê³ ì •ê°€ í˜‘ìƒ. ê³µí•­â€“ì„¬ ì—°ê³„ í‹°ì¼“ íŒ¨í‚¤ì§€ í¸ë¦¬.",
      "ìœ„í—˜Â·ì£¼ì˜": "ì„±ìˆ˜ê¸° ì¸íŒŒ í˜¼ì¡. í™˜ìŠ¹ ìŠ¤ì¼€ì¤„ ë¹¡ë¹¡í•˜ë©´ ë”œë ˆì´ ë¦¬ìŠ¤í¬."
    },
    "ë¡¬ë³µ": {
      "ë¹„ìš© ë¶„í•´": "ìˆ™ë°•Â·ì‹ë¹„ ë‚®ìŒ. ê¸°ì‚¬/ë Œí„°ì¹´ í˜¼í•© ì‹œ ê²½ì œì .",
      "ì¶”ì²œ ë™ì„ ": "ì¿ íƒ€/íƒ„ì¤‘ì•ˆ ì„œí•‘ ì…ë¬¸ / ê¸¸ë¦¬ì„¬ ë‹¹ì¼ ìŠ¤ë…¸í´.",
      "ë‚ ì”¨Â·ì‹œì¦Œ": "ê±´ê¸°(5â€“10ì›”) ì„œí•‘Â·ìŠ¤ë…¸í´ ì í•©.",
      "êµí†µ íŒ": "ê¸°ì‚¬ 12h 700kâ€“900k IDR. ì¼ë¶€ ì•± í˜¸ì¶œ ì œí•œ ì§€ì—­ ì¡´ì¬.",
      "ìœ„í—˜Â·ì£¼ì˜": "ì˜ë£ŒÂ·ëŒ€ì¤‘êµí†µ ë¹ˆì•½. ê°€ì¡± ë‹¨ìœ„ë¡œëŠ” ì´ë™ ë³´ìˆ˜ì  ê³„íš."
    },
    "ê´Œ": {
      "ë¹„ìš© ë¶„í•´": "ìˆ™ë°•Â·ì‹ë¹„ ë†’ì€ í¸. ë Œí„°ì¹´+ì£¼ì°¨ë¹„ ê³ ë ¤.",
      "ì¶”ì²œ ë™ì„ ": "íˆ¬ëª¬ ë² ì´ / ìˆ˜ì¤‘ì „ë§ëŒ€ / ë§ˆì´í¬ë¡œë„¤ì‹œì•„ëª°.",
      "ë‚ ì”¨Â·ì‹œì¦Œ": "ì—°ì¤‘ ì˜¨ë‚œ. ìš°ê¸°(6â€“12ì›”) ìŠ¤ì½œ ì£¼ì˜.",
      "êµí†µ íŒ": "ë Œí„°ì¹´ $90/ì¼(ì¤‘í˜•). ì£¼ì°¨ ìœ ë£Œ êµ¬ê°„ ë‹¤ìˆ˜.",
      "ìœ„í—˜Â·ì£¼ì˜": "ì„±ìˆ˜ê¸° ê°€ê²© ê¸‰ë“±. ìš´ì „Â·ì£¼ì°¨ë¹„ìš© ë³„ë„ ì˜ˆì‚°."
    },
    "ì˜¤í‚¤ë‚˜ì™€": {
      "ë¹„ìš© ë¶„í•´": "ìˆ™ë°• ë‹¨ê°€ ì¤‘ìƒ. ë Œí„°ì¹´ í•„ìˆ˜ ì§€ì¶œ.",
      "ì¶”ì²œ ë™ì„ ": "ì°¨íƒ„/ì„ ì…‹ë¹„ì¹˜ / ì¶”ë¼ìš°ë¯¸ ìˆ˜ì¡±ê´€ / ë‚¨ë¶€ ë“œë¼ì´ë¸Œ.",
      "ë‚ ì”¨Â·ì‹œì¦Œ": "ê²¨ìš¸ ìˆ˜ì˜ ì œí•œ. ë´„Â·ê°€ì„ ì˜¨í™”.",
      "êµí†µ íŒ": "ë Œí„°ì¹´ Â¥8kâ€“10k/ì¼. ìœ ë£Œì£¼ì°¨ ë‹¤ìˆ˜.",
      "ìœ„í—˜Â·ì£¼ì˜": "ì„±ìˆ˜ê¸° ìˆ™ë°•ë¹„ ê¸‰ë“±. ë¹„ë°”ëŒ ì‹œ ì‹¤ë‚´ ì½”ìŠ¤ í™•ë³´."
    }
  };

  function renderDetails(card){
    const key = card.dataset.key;
    const panel = card.querySelector('.details');
    const inner = card.querySelector('.details-inner');
    if (!inner.dataset.rendered) {
      const info = DETAILS[key] || {};
      inner.innerHTML = Object.entries(info).map(([k,v]) =>
        `<div><b>${k}</b><br><span>${v}</span></div>`
      ).join('');
      inner.dataset.rendered = "true";
    }
    const expanded = card.getAttribute('aria-expanded') === 'true';
    card.setAttribute('aria-expanded', String(!expanded));
    if (!expanded) {
      panel.hidden = false;
      panel.style.maxHeight = panel.scrollHeight + 'px';
      setTimeout(()=> panel.style.maxHeight = panel.scrollHeight + 'px', 10);
    } else {
      panel.style.maxHeight = panel.scrollHeight + 'px';
      requestAnimationFrame(()=> { panel.style.maxHeight = '0px'; });
      panel.addEventListener('transitionend', () => {
        if (card.getAttribute('aria-expanded') === 'false') panel.hidden = true;
      }, { once: true });
    }
  }

  document.querySelectorAll('.card').forEach(card=>{
    card.addEventListener('click', ()=>{ renderDetails(card); });
    card.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' '){
        e.preventDefault(); renderDetails(card);
      }
    });
  });
</script>
</body>
</html>
